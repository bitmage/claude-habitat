Ok, so the tests have become pretty fragmented.  What I'd like to see is a) unit tests, b) e2e tests, c) habitat tests.  The unit tests should run in seconds, the e2e tests should run in under 5 minutes.  The habitat tests (system, shared, habitats) should be split into required: and optional: where required should run in seconds and optional should run in less than 5 minutes.  Also the unit tests/required tests should seek to minimize network bandwidth, e.g. they should not be downloading giant docker containers, or running build steps that run package manager installs.  It's ok to include the base --system tests in unit tests though, since it's a relatively small image and it will be cached after the first run.

Secondly - can certain tests be eliminated or refactored into a more natural form now that we have the habitat tests?  For e2e tests, we shouldn't need that many now that we have the habitat tests.  Our tests now look like a tree, with unit tests at the bottom, e2e as the trunk, and habitat tests as the branches and leaves.

Thirdly, update the claude/BEST_PRACTICES.md to instruct that unit tests should be run often, and creation of new unit tests should be leaned on for inquiring into system status rather than writing ad-hoc queries into the system.  The required tests for habitats should be treated similarly: lean on them to create more robust habitat quality.
